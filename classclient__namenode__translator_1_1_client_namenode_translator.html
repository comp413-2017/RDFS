<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RDFS: client_namenode_translator::ClientNamenodeTranslator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RDFS
   </div>
   <div id="projectbrief">The Rice Comp413 2017 class&#39; continuation on the work of the 2016 RDFS.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceclient__namenode__translator.html">client_namenode_translator</a></li><li class="navelem"><a class="el" href="classclient__namenode__translator_1_1_client_namenode_translator.html">ClientNamenodeTranslator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classclient__namenode__translator_1_1_client_namenode_translator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">client_namenode_translator::ClientNamenodeTranslator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_client_namenode_protocol_impl_8h_source.html">ClientNamenodeProtocolImpl.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac81f59d2bbd211af207697551e271bee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac81f59d2bbd211af207697551e271bee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ClientNamenodeTranslator</b> (int port, <a class="el" href="classzkclient_1_1_zk_nn_client.html">zkclient::ZkNnClient</a> *zk_arg)</td></tr>
<tr class="separator:ac81f59d2bbd211af207697551e271bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b209586ec1cf0c23a86eebd31adaab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92b209586ec1cf0c23a86eebd31adaab"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getFileInfo</b> (std::string)</td></tr>
<tr class="separator:a92b209586ec1cf0c23a86eebd31adaab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656c190e4c3412a15153234e6eb3a989"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a656c190e4c3412a15153234e6eb3a989"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>mkdir</b> (std::string)</td></tr>
<tr class="separator:a656c190e4c3412a15153234e6eb3a989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6edadc6490f98c442f1280506529b177"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6edadc6490f98c442f1280506529b177"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> (std::string)</td></tr>
<tr class="separator:a6edadc6490f98c442f1280506529b177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815aba0deea1e7a5de3f7fb9583be357"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a815aba0deea1e7a5de3f7fb9583be357"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>create</b> (std::string)</td></tr>
<tr class="separator:a815aba0deea1e7a5de3f7fb9583be357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac618190c04cd43a2cc470e92bd3ae6d1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac618190c04cd43a2cc470e92bd3ae6d1"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getBlockLocations</b> (std::string)</td></tr>
<tr class="separator:ac618190c04cd43a2cc470e92bd3ae6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac314e5b80762cb60027f4ed025de00ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac314e5b80762cb60027f4ed025de00ab"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getServerDefaults</b> (std::string)</td></tr>
<tr class="separator:ac314e5b80762cb60027f4ed025de00ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fbadfa7b8148e99baf32170cde48ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50fbadfa7b8148e99baf32170cde48ea"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>renewLease</b> (std::string)</td></tr>
<tr class="separator:a50fbadfa7b8148e99baf32170cde48ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4696c82c535af4ce60d9fd8070262b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4696c82c535af4ce60d9fd8070262b1"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>complete</b> (std::string)</td></tr>
<tr class="separator:ad4696c82c535af4ce60d9fd8070262b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc1d8b2349ab36214ed5a3d1c06cdea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0dc1d8b2349ab36214ed5a3d1c06cdea"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>setReplication</b> (std::string)</td></tr>
<tr class="separator:a0dc1d8b2349ab36214ed5a3d1c06cdea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad369554683a436a9c34ad6194e5335"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acad369554683a436a9c34ad6194e5335"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>addBlock</b> (std::string input)</td></tr>
<tr class="separator:acad369554683a436a9c34ad6194e5335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40e53c5375e6a6b83b1bd6d3e6b1b86"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa40e53c5375e6a6b83b1bd6d3e6b1b86"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getListing</b> (std::string input)</td></tr>
<tr class="separator:aa40e53c5375e6a6b83b1bd6d3e6b1b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b39335e1373f60b47b4b9d6ae81cc4d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b39335e1373f60b47b4b9d6ae81cc4d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getEZForPath</b> (std::string input)</td></tr>
<tr class="separator:a5b39335e1373f60b47b4b9d6ae81cc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd42089a7637938e3b3f4bd6d58ec4e8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd42089a7637938e3b3f4bd6d58ec4e8"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>setOwner</b> (std::string input)</td></tr>
<tr class="separator:acd42089a7637938e3b3f4bd6d58ec4e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d663aaf7671f48250deff17a80faed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76d663aaf7671f48250deff17a80faed"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getContentSummary</b> (std::string input)</td></tr>
<tr class="separator:a76d663aaf7671f48250deff17a80faed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39fbac2500835bc4970ea1af8804bc31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39fbac2500835bc4970ea1af8804bc31"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>modifyAclEntries</b> (std::string input)</td></tr>
<tr class="separator:a39fbac2500835bc4970ea1af8804bc31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61a8b84552e5a579ebe8644a14f1640"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac61a8b84552e5a579ebe8644a14f1640"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>setPermission</b> (std::string)</td></tr>
<tr class="separator:ac61a8b84552e5a579ebe8644a14f1640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ffbc17cdbb7f8ee5bcc260f923c7a5b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ffbc17cdbb7f8ee5bcc260f923c7a5b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>rename</b> (std::string)</td></tr>
<tr class="separator:a6ffbc17cdbb7f8ee5bcc260f923c7a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb2eb48718ab49d5ec5b3e3520bd7ff"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclient__namenode__translator_1_1_client_namenode_translator.html#a6cb2eb48718ab49d5ec5b3e3520bd7ff">rename2</a> (std::string)</td></tr>
<tr class="separator:a6cb2eb48718ab49d5ec5b3e3520bd7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e0444813666ef5e25c5ddddb1700b4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99e0444813666ef5e25c5ddddb1700b4"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>append</b> (std::string)</td></tr>
<tr class="separator:a99e0444813666ef5e25c5ddddb1700b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52cc5e09537eda6b2794eb9b4c2f604"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab52cc5e09537eda6b2794eb9b4c2f604"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>recoverLease</b> (std::string)</td></tr>
<tr class="separator:ab52cc5e09537eda6b2794eb9b4c2f604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c9639dde0e9197646165dcf3cae737"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1c9639dde0e9197646165dcf3cae737"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>concat</b> (std::string)</td></tr>
<tr class="separator:af1c9639dde0e9197646165dcf3cae737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f6f3001e74647effd52b6dd9fb5ecf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclient__namenode__translator_1_1_client_namenode_translator.html#a13f6f3001e74647effd52b6dd9fb5ecf">abandonBlock</a> (std::string input)</td></tr>
<tr class="separator:a13f6f3001e74647effd52b6dd9fb5ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec76d00f481738b90d4ff6ef1919bd68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec76d00f481738b90d4ff6ef1919bd68"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>fsync</b> (std::string input)</td></tr>
<tr class="separator:aec76d00f481738b90d4ff6ef1919bd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e2b61ba0875c9315a6252bc136f4b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3e2b61ba0875c9315a6252bc136f4b6"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>finalizeUpgrade</b> (std::string input)</td></tr>
<tr class="separator:ae3e2b61ba0875c9315a6252bc136f4b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528a0d199c631173f59413f116974267"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclient__namenode__translator_1_1_client_namenode_translator.html#a528a0d199c631173f59413f116974267">getPort</a> ()</td></tr>
<tr class="separator:a528a0d199c631173f59413f116974267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5cc7ef0609feb97254145af53393eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_p_c_server.html">RPCServer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclient__namenode__translator_1_1_client_namenode_translator.html#ade5cc7ef0609feb97254145af53393eb">getRPCServer</a> ()</td></tr>
<tr class="separator:ade5cc7ef0609feb97254145af53393eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The translator receives the rpc parameters from rpcserver. It then processes the message and does whatever is necessary, returing a serializes protobuff.</p>
<p>It communicates with zookeeper to construct the namespace and communicate with datanode </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a13f6f3001e74647effd52b6dd9fb5ecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string client_namenode_translator::ClientNamenodeTranslator::abandonBlock </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The client can give up on a block by calling <a class="el" href="classclient__namenode__translator_1_1_client_namenode_translator.html#a13f6f3001e74647effd52b6dd9fb5ecf">abandonBlock()</a>. The client can then either obtain a new block, or complete or abandon the file. Any partial writes to the block will be discarded. </p>

</div>
</div>
<a class="anchor" id="a528a0d199c631173f59413f116974267"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int client_namenode_translator::ClientNamenodeTranslator::getPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the port this namenode listens on </p>

</div>
</div>
<a class="anchor" id="ade5cc7ef0609feb97254145af53393eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_p_c_server.html">RPCServer</a> client_namenode_translator::ClientNamenodeTranslator::getRPCServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the <a class="el" href="class_r_p_c_server.html">RPCServer</a> this namenode uses to connect with clients </p>

</div>
</div>
<a class="anchor" id="a6cb2eb48718ab49d5ec5b3e3520bd7ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string client_namenode_translator::ClientNamenodeTranslator::rename2 </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When asked to do an unsupported command, we'll be returning a method-not-found proto. The code in question is very similar to GetErrorRPCHeader, but will actually occur further up - see rpcserver.cc's method handle_rpc. Whenever (iter != dispatch_table.end()) is false, it basically means that we couldn't find a corresponding method in this file here.</p>
<p>As such, it will go ahead and create the error header and send it back along, without ever having to call any methods in this file. So there is no need to ever worry about methods we just flat out don't support in this file.</p>
<p>That being said, the following is a short list of some common commands we don't support, and our reasons for not supporting them:</p>
<ol type="1">
<li>setReplication: The actual block replication is not expected to be performed during this method call. The blocks will be populated or removed in the background as the result of the routine block maintenance procedures. Basically, cannot set replication to something new.</li>
<li>append: Appends are not supported</li>
<li>concat: Effectively an append, so we don't support it</li>
<li>recoverLease: While we expect clients to renew their lease, we should never allow a client to "recover" a lease, since we only allow a write-once system As such, we cannot recover leases. </li>
</ol>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rice-namenode/include/<a class="el" href="_client_namenode_protocol_impl_8h_source.html">ClientNamenodeProtocolImpl.h</a></li>
<li>rice-namenode/source/ClientNamenodeProtocolImpl.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
